# Metallo.github.io
documentation-site


物联网全栈项目： 现在正在搭建Wx小程序项目。 期望功能实现：
1.实现类Tg自定义分类模块，用户可以自定义分组，组里面可以自定义设备  
2.实现跨网关实时控制设备  
3.选择设备协议-链接  
4.链接数据库-后端一套-部署于内网服务器中  
5.检测系统-指标过量-手动/自动操控开关进行控制  
6.设备邀请链接-可以添加别人的设备/组进行互动  
7.自定义分类和组的功能  
8.添加域的功能，实现邀请进入权限分组控制   
9.接入人工智能/机器人，实现远程对话/操控（传递：人-网络-机器-环境，由语言远程影响对象环境）   
10.自定义控制页面 11.异常数据会通过API转发到TG的BOT上，实现应用监控  
12.可以实现配置中转站功能，A触发事件将参数发送到B,B处理后发生对应参数到C，C实现目标事件（配置一个域然后进行配置即可）   
13.安卓，ios，macos端暂时不考虑   
14.优先考虑TG机器人  

优先mvp项目：
1.实时监测功能：
1）web端> 传感器-DTU-mqtt-emqx-influxDB-grafana
2)移动端> tgbot与miniprogram

2.实时操控功能：
1) web端> 
后期搭建app，web，bot等等项目
  
后端技术栈：传感器设备通过MQTT发送数据，后端使用Dapr处理消息，使用C#和ASP.NET Core构建Web API，并将数据存储到MongoDB中。
  
网页端，app端主要实现传感器监控页。  
目前方案：虚拟机中docker搭载HA，HA抓包小米网关的包，实现数据传输与控制。数据将走服务器进入到数据库中，然后微信小程序/react打包js的程序端使用数据库API进行实时数据查看与显示。然后通过tgbot接入HA端口实现远程移动端操控。通过端口转发将数据库的数据展示在转发的web页上，实现远程监控。  
注意事项：1.编写自动化脚本，当连接中断时自动重试连接，或者在连接丢失时发送通知。2.为小米网关分配一个静态 IP 地址。3.多建立一个API端口为维系小程序提供基本的（散热风扇控制功能）
  
